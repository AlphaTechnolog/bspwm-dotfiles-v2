- shell:
  - [git submodule update --init --recursive, Installing modules]
  -
    command: bash dotbot-tools/respald-folders.sh
    description: Checking for old dotfiles folders and trying to respald it
    stdout: true
    quiet: true
  -
    command: bash dotbot-tools/install-dependencies.sh
    description: Installing dependencies (only available if you has an arch-based system)
    stdout: true
    stdin: true
    stderr: true
    quiet: true

- clean: ['~', '~/.config', '~/.local/share']

- create:
  - ~/.config
  - ~/.local/share

- link:
    ~/.config/:
      glob: true
      path: .config/*
    ~/.local/share/:
      create: true
      path: .local/share/**
      glob: true
    ~/.bashrc: .bashrc
    ~/.zshrc: .zshrc
    ~/.p10k.zsh: .p10k.zsh
